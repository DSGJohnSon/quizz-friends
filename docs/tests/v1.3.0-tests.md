# Guide de Test - v1.3.0 (Multi-Displays)

Ce guide détaille les procédures de test pour valider le système multi-écrans.

## 1. Setup Initial

1. Ouvrir 3 fenêtres de navigateur :
   - Fenêtre 1 : `/host/[sessionId]` (Animateur)
   - Fenêtre 2 : `/game/[sessionId]` (Display 1 - TV Principale)
   - Fenêtre 3 : `/game-2/[sessionId]` (Display 2 - TV Secondaire)
2. Vérifier que sur l'interface Host, les deux indicateurs "Display 1" et "Display 2" sont **VERTS**.

## 2. Test Routage AUTO & Toggle (Avec 2 écrans)

1. **Test Infos Connexion (LOBBY)** :

   - Sur le Host (Status: ANY sauf IN_PROGRESS), cliquer sur **"Infos Connexion"**.
   - [ ] Vérifier que **Display 1** affiche la vue combinée (QR Code + Joueurs).
   - [ ] Vérifier que **Display 2** reste sur sa vue par défaut (souvent Player Grid ou Empty).

2. **Test Contrôles de Jeu (IN_PROGRESS)** :

   - Passer la session en **IN_PROGRESS** ("Lancer la partie").
   - Repérer le panneau "Contrôle Écran Secondaire" (Display 2).

3. **Test "Afficher Joueurs" (D2)** :

   - Cliquer sur le bouton **"Afficher Joueurs"**.
   - [ ] Le bouton doit devenir **VIOLET** (Actif).
   - [ ] **Display 2** doit afficher la grille des joueurs.
   - [ ] **Display 1** doit afficher "Jeu en cours" (inchangé).
   - Cliquer à nouveau sur "Afficher Joueurs".
   - [ ] Le bouton redevient **BLANC** (Inactif).
   - [ ] **Display 2** redevient vide.

4. **Test "Afficher Scoreboard" (D2)** :

   - Cliquer sur le bouton **"Afficher Scoreboard"**.
   - [ ] Le bouton doit devenir **BLEU** (Actif).
   - [ ] **Display 2** doit afficher le Scoreboard.
   - Cliquer à nouveau pour désactiver.
   - [ ] **Display 2** redevient vide.

## 3. Test Routage AUTO (Avec 1 écran)

1. **Simulation panne D2** :

   - Fermer la fenêtre `/game-2`.
   - Attendre 10-15 secondes.
   - [ ] Vérifier que l'indicateur "Display 2" passe au **ROUGE** sur le Host.

2. **Test Fallback Scoreboard** :

   - Cliquer sur **"Scoreboard"**.
   - [ ] Vérifier que **Display 1** affiche le Scoreboard (il remplace la vue LOBBY précédente).

3. **Test Retour au LOBBY** :
   - Cliquer sur **"Infos Connexion"**.
   - [ ] Vérifier que **Display 1** affiche à nouveau le LOBBY.

## 4. Test Persistance & Reconnexion

1. Mettre les écrans dans un état spécifique (ex: D1=LOBBY).
2. Rafraîchir la page `/game` (D1).
   - [ ] Vérifier qu'elle revient immédiatement sur la vue **LOBBY** (et non l'écran d'attente).
