# Guide de Test - Version 1.2.0 (Syst√®me de Score)

## üéØ Objectifs

Valider l'attribution des points, le stockage en base de donn√©es, la synchronisation temps r√©el et l'affichage des r√©sultats (Podium).

## üß™ Sc√©narios de Test (A-Z)

### 1. Initialisation & Pr√©paration

1. Cr√©er une nouvelle session via `/host`.
2. Ouvrir 4 interfaces joueurs (Player A, B, C, D) sur diff√©rents onglets/appareils.
3. Rejoindre la session avec chaque joueur.
4. **V√©rification** :
   - Sur l'Host, les 4 joueurs sont pr√©sents avec un score de **0**.
   - Sur chaque interface joueur, le score affich√© est **0**.

### 2. Attribution de Points (Positif & N√©gatif)

#### A. Automatique (Service)

1. Simuler l'attribution de +10 points au Player A (via le service ou un trigger de test).
2. **V√©rification** :
   - Le score du Player A passe √† **10** instantan√©ment sur l'Host.
   - Le score du Player A passe √† **10** sur son interface.
3. Simuler l'attribution de -5 points au Player B.
4. **V√©rification** :
   - Le score du Player B passe √† **-5** (support des malus).

#### B. Manuel (Interface Host)

1. Sur l'interface Host, rep√©rer le Player C dans la liste.
2. Saisir "15" dans le champ `pts` √† c√¥t√© de son nom.
3. Cliquer sur le bouton `+`.
4. **V√©rification** :
   - Le score du Player C passe √† **15**.
   - Le champ de saisie est r√©initialis√©.
5. Saisir "20" pour le Player D et cliquer sur `-`.
6. **V√©rification** :
   - Le score du Player D passe √† **-20**.

### 3. Persistance & Reconnexion

1. D√©connecter le Player A (fermer l'onglet).
2. V√©rifier que l'Host le marque comme "Offline" (badge rouge).
3. Revenir sur la session avec le Player A (localStorage).
4. **V√©rification** :
   - Le score de **10** est toujours pr√©sent et affich√© pour le Player A.

### 4. Fin de Session & R√©sultats (Podium)

1. Sur l'Host, cliquer sur **"Lancer le jeu"** puis sur le nouveau bouton **"Terminer la session"**.
2. Acc√©der √† la page des r√©sultats `/sessions/[id]/results`.
3. **V√©rification** :
   - Les joueurs sont tri√©s par score d√©croissant.
   - Le Top 3 est affich√© sur un podium premium (Or, Argent, Bronze).
   - Les autres joueurs sont list√©s en dessous.

## üìã Points de V√©rification Techniques

- [ ] L'√©v√©nement `player:score_updated` est bien re√ßu par les clients.
- [ ] La base de donn√©es contient les entr√©es `ScoreEntry` correspondantes.
- [ ] Le champ `totalScore` du joueur est bien la somme des `ScoreEntry`.
- [ ] Le bouton "Terminer" ne s'affiche que si la session est `IN_PROGRESS`.
